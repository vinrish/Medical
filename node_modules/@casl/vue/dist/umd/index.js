(function(e,n){"object"===typeof exports&&"undefined"!==typeof module?n(exports,require("vue")):"function"===typeof define&&define.amd?define(["exports","vue"],n):(e="undefined"!==typeof globalThis?globalThis:e||self,n((e.casl=e.casl||{},e.casl.vue={}),e.Vue))})(this,(function(e,n){"use strict";function t(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var r=t(n);var i=r["default"].extend({name:"Can",functional:true,props:{I:String,do:String,a:[String,Function],an:[String,Function],this:[String,Function,Object],on:[String,Function,Object],not:Boolean,passThrough:Boolean,field:String},render:function e(n,t){var r=t.props,i=t.children,o=t.parent,a=t.data;var u=r;var f=u.I||u.do;var c=u.of||u.an||u.a||u.this||u.on;if(!f)throw new Error("[Vue Can]: neither `I` nor `do` prop was passed in <Can>");var s=o.$can(f,c,u.field);var l=r.not?!s:s;if(!r.passThrough)return l?i:[];if(!a.scopedSlots||!a.scopedSlots.default)throw new Error("[Vue Can]: `passThrough` expects default scoped slot to be specified");return a.scopedSlots.default({allowed:l,ability:o.$ability})}});var o=new WeakMap;function a(e,n){if(o.has(n))return o.get(n);var t={t:true};var r="function"===typeof e.observable?e.observable(t):new e({data:t});n.on("updated",(function(){r.t=!r.t}));o.set(n,r);return r}function u(e){if(e)return{value:e};return{get:function e(){throw new Error("Please provide `Ability` instance either in `abilitiesPlugin` or in ComponentOptions")}}}function f(e,n){Object.defineProperty(e.prototype,"$ability",u(n));e.mixin({beforeCreate:function e(){var n=this.$options,t=n.ability,r=n.parent;var i=t||(r?r.$ability:null);if(i)Object.defineProperty(this,"$ability",{value:i})},methods:{$can:function n(){var t;var r=a(e,this.$ability);r.t=r.t;return(t=this.$ability).can.apply(t,arguments)}}})}e.Can=i;e.abilitiesPlugin=f;Object.defineProperty(e,"__esModule",{value:true})}));
//# sourceMappingURL=index.js.map
